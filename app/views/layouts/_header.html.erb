<header role="banner" data-module="govuk-header"
  class="govuk-header app-header
  <%= admin ? "app-header--admin" : "app-header--design-history" %>">
  <div class="govuk-header__container govuk-width-container">
    <div class="govuk-header__logo">
      <% if admin || @project.nil? %>
        <a class="govuk-header__link govuk-header__link--homepage" href="/">
          <span class="govuk-header__logotype"><%= t("service.name") %></span>
        </a>
      <% else %>
        <span class="govuk-header__logotype">
          <span class="govuk-header__logotype-text">
            <span class="govuk-caption-m app-!-inherit-colour">
              Design History</span>
            <a href="/" class="govuk-header__link govuk-header__link--homepage">
              <%= @project.title %></a>
          </span>
        </span>
      <% end %>
    </div>

    <div class="govuk-header__content">
      <nav class="govuk-header__navigation app-header__navigation"
           aria-label="Navigation menu">
        <button
          type="button"
          class="govuk-header__menu-button govuk-js-header-toggle"
          aria-controls="navigation"
          aria-label="Show or hide navigation menu"
          hidden="">Menu</button>

        <% if admin && current_user %>
          <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item app-header__navigation-item">
              <%= current_user.email %>
            </li>
            <li class="govuk-header__navigation-item">
              <%= button_to("Sign out", destroy_user_session_path,
                            data: { turbo: false }, method: :delete,
                            class: "app-button-link") %>
            </li>
          </ul>
        <% end %>
      </nav>
    </div>
  </div>
</header>
