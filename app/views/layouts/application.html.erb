<!DOCTYPE html>
<html lang="en" class="govuk-template">
  <head>
    <title><%= [yield(:page_title).presence, t('service.name')].compact.join(' - ') %></title>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= tag :meta, name: 'viewport', content: 'width=device-width, initial-scale=1' %>
    <%= tag :meta, property: 'og:image', content: asset_path('images/govuk-opengraph-image.png') %>
    <%= tag :meta, name: 'theme-color', content: '#0b0c0c' %>
    <%= favicon_link_tag asset_path('images/favicon.ico') %>
    <%= favicon_link_tag asset_path('images/govuk-mask-icon.svg'), rel: 'mask-icon', type: 'image/svg', color: "#0b0c0c" %>
    <%= favicon_link_tag asset_path('images/govuk-apple-touch-icon.png'), rel: 'apple-touch-icon', type: 'image/png' %>
    <%= favicon_link_tag asset_path('images/govuk-apple-touch-icon-152x152.png'), rel: 'apple-touch-icon', type: 'image/png', size: '152x152' %>
    <%= favicon_link_tag asset_path('images/govuk-apple-touch-icon-167x167.png'), rel: 'apple-touch-icon', type: 'image/png', size: '167x167' %>
    <%= favicon_link_tag asset_path('images/govuk-apple-touch-icon-180x180.png'), rel: 'apple-touch-icon', type: 'image/png', size: '180x180' %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
    <%= hotwire_livereload_tags if Rails.env.development? %>
  </head>

  <body class="govuk-template__body">
    <script>
      document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');
    </script>

    <%= govuk_skip_link %>

    <div class="app-header">
      <%= govuk_header() do |header|
        header.custom_logo do %><%= t("service.name") %>
      <% end; end %>
    </div>

    <%= yield :masthead %>

    <div class="govuk-width-container">
      <%= yield :breadcrumbs %>

      <main class="govuk-main-wrapper" id="main-content" role="main">

        <% if notice %>
          <%= govuk_row do %>
            <%= govuk_two_thirds do %>
              <%= govuk_notification_banner(title_text: "Success",
                                            success: true) do |nb| %>
                <% nb.heading(text: notice) %>
              <% end %>
            <% end %>
          <% end %>
        <% end %>

        <%= yield %>
      </main>
    </div>

    <div class="app-footer">
      <%= render GovukComponent::FooterComponent.new do |footer|
        footer.meta do %>
          <p>Â© Design History 2022</p>
      <% end; end %>
    </div>
  </body>
</html>
